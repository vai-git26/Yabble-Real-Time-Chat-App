{% extends 'layouts/box.html' %}

{% block content %}

<h1 class="mb-8">Account Settings</h1>

<table class="w-full text-sm text-left text-gray-500">
    <tbody>
        <tr>
            <th scope="row" class="pt-4 pb-1 text-base font-bold text-gray-900">
                Email address
            </th>
            <td id="email-address" class="pt-4 pb-1 px-6">
                {% if user.email %}{{ user.email }}{% else %}No Email{% endif %}
            </td>
            <td class="pt-4 pb-1 px-6">
                <a id="email-edit" class="cursor-pointer font-medium text-blue-600 hover:underline"
                    hx-get="{% url 'profile-emailchange' %}"
                    hx-target="#email-address"
                    hx-swap="innerHTML">
                    Edit
                </a>
            </td>
        </tr>
        <tr class="border-b">
            <th scope="row" class="pb-4 font-medium text-gray-900">  
            </th>
            <td class="px-6 pb-4">
                {% if user.emailaddress_set.first.verified %}
                <span class="text-green-500">Verified</span>{% else %}
                <span class="text-amber-500">Not verified</span>
                {% endif %}
            </td>
            <td class="px-6 pb-4">
                <a href="{% url 'profile-emailverify' %}" class="font-medium text-blue-600 hover:underline">
                    {% if not user.emailaddress_set.first.verified %}Verify{% endif %}
                </a>
            </td>
        </tr>

        <tr class="border-b">
            <th scope="row" class="py-4 text-base font-bold text-gray-900">
                Delete Account
            </th>
            <td class="px-6 py-4">
                Once deleted, account is gone. Forever.
            </td>
            <td class="px-6 py-4">
                <a href="{% url 'profile-delete' %}" class="font-medium text-red-600 hover:underline">
                    Delete
                </a>
            </td>
        </tr>
    </tbody>
</table>

<style>
    /* Add this CSS to your main stylesheet or inside a <style> block in your template */
    /* Card container */
.box-inner {
    background: #fff;
    border-radius: 18px;
    box-shadow: 0 8px 40px rgba(0,0,0,0.10);
    padding: 2.5rem 2.5rem 2rem 2.5rem;
    min-width: 340px;
    max-width: 480px;
    margin: 2rem auto;
    transition: box-shadow 0.2s;
}

/* Heading */
h1.mb-8 {
    font-size: 2.1rem;
    font-weight: 700;
    margin-bottom: 2.2rem;
    text-align: left;
    letter-spacing: -1px;
}

/* Table styling */
table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    font-size: 1.05rem;
    color: #222;
}

th, td {
    padding: 0.7rem 1rem;
    vertical-align: middle;
}

th {
    font-weight: 600;
    color: #222;
    background: none;
    border: none;
    text-align: left;
    min-width: 120px;
}

tr {
    border: none;
}

tr.border-b td, tr.border-b th {
    border-bottom: 1px solid #f3f4f6;
}

a,
a.font-medium {
    color: #2563eb;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.18s;
    border-radius: 4px;
    padding: 2px 6px;
}

a:hover,
a.font-medium:hover {
    text-decoration: underline;
    color: #1d4ed8;
    background: #f1f5fd;
}

.text-green-500 {
    color: #22c55e;
    font-weight: 500;
}

.text-amber-500 {
    color: #f59e42;
    font-weight: 500;
}

.text-red-600 {
    color: #dc2626;
    font-weight: 500;
}

@media (max-width: 600px) {
    .box-inner {
        min-width: unset;
        max-width: 100%;
        padding: 1rem;
    }
    table, th, td {
        font-size: 0.97rem;
        padding: 0.5rem;
    }
}

</style>

{% endblock %}